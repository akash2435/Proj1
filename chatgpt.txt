@{
    var selectedStatus = ViewData["StatusFilter"] as string;
    var selectedPriority = ViewData["PriorityFilter"] as string;
    var statuses = new List<string> { "Pending", "Completed" };
    var priorities = new List<string> { "High", "Medium", "Low" };
}

<form method="get" asp-controller="TaskItems" asp-action="Index">
    <select name="statusFilter">
        <option value="">-- Status --</option>
        @foreach (var status in statuses)
        {
            var isSelected = status == selectedStatus ? "selected" : "";
            <text><option value="@status" @isSelected>@status</option></text>
        }
    </select>

    <select name="priorityFilter">
        <option value="">-- Priority --</option>
        @foreach (var priority in priorities)
        {
            var isSelected = priority == selectedPriority ? "selected" : "";
            <text><option value="@priority" @isSelected>@priority</option></text>
        }
    </select>

    <button type="submit">Filter</button>
</form>




-------------------------------------------------------


// GET: TaskItems
public async Task<IActionResult> Index(string status, string priority)
{
    var query = _context.TaskItems.AsQueryable();

    if (!string.IsNullOrEmpty(status))
    {
        query = query.Where(t => t.Status == status);
    }

    if (!string.IsNullOrEmpty(priority))
    {
        query = query.Where(t => t.Priority == priority);
    }

    // Pass filter values to the view
    ViewData["CurrentStatus"] = status;
    ViewData["CurrentPriority"] = priority;

    return View(await query.ToListAsync());
}

<form method="get">
    <select name="statusFilter">
        <option value="">-- Status --</option>
        <option value="Pending" @(ViewData["StatusFilter"] as string == "Pending" ? "selected" : "")>Pending</option>
        <option value="Completed" @(ViewData["StatusFilter"] as string == "Completed" ? "selected" : "")>Completed</option>
    </select>

    <select name="priorityFilter">
        <option value="">-- Priority --</option>
        <option value="High" @(ViewData["PriorityFilter"] as string == "High" ? "selected" : "")>High</option>
        <option value="Medium" @(ViewData["PriorityFilter"] as string == "Medium" ? "selected" : "")>Medium</option>
        <option value="Low" @(ViewData["PriorityFilter"] as string == "Low" ? "selected" : "")>Low</option>
    </select>

    <button type="submit">Filter</button>
</form>


-------------------------------------------------------


// GET: TaskItems
public async Task<IActionResult> Index(string status, string priority)
{
    var query = _context.TaskItems.AsQueryable();

    if (!string.IsNullOrEmpty(status))
    {
        query = query.Where(t => t.Status == status);
    }

    if (!string.IsNullOrEmpty(priority))
    {
        query = query.Where(t => t.Priority == priority);
    }

    // Pass filter values to the view
    ViewData["CurrentStatus"] = status;
    ViewData["CurrentPriority"] = priority;

    return View(await query.ToListAsync());
}

@{
    var selectedStatus = ViewData["StatusFilter"] as string;
    var selectedPriority = ViewData["PriorityFilter"] as string;
}

<form method="get">
    <select name="statusFilter">
        <option value="">-- Status --</option>
        @foreach (var status in new[] { "Pending", "Completed" })
        {
            <option value="@status" @(status == selectedStatus ? "selected" : "")>@status</option>
        }
    </select>

    <select name="priorityFilter">
        <option value="">-- Priority --</option>
        @foreach (var priority in new[] { "High", "Medium", "Low" })
        {
            <option value="@priority" @(priority == selectedPriority ? "selected" : "")>@priority</option>
        }
    </select>

    <button type="submit">Filter</button>
</form>



-------------------------------------------------------


// GET: TaskItems
public async Task<IActionResult> Index(string status, string priority)
{
    var query = _context.TaskItems.AsQueryable();

    if (!string.IsNullOrEmpty(status))
    {
        query = query.Where(t => t.Status == status);
    }

    if (!string.IsNullOrEmpty(priority))
    {
        query = query.Where(t => t.Priority == priority);
    }

    // Pass filter values to the view
    ViewData["CurrentStatus"] = status;
    ViewData["CurrentPriority"] = priority;

    return View(await query.ToListAsync());
}
